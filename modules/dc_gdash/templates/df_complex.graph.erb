title   "Disk usage for <%= @mount %> on <%= @_hostname %>"
vtitle "Bytes"
area    :first
hide_legend false
<%
  # Create our hostname string in a format that's consistent with what we're storing in Carbon
  # ༼ つ ◕_◕ ༽つ
  ghostname  = (@_hostname + "." + @domain).gsub(/\./, '_') 
  free = "collectd." + ghostname + ".df-" + @mount + ".df_complex-free"
  reserved = "collectd." + ghostname + ".df-" + @mount + ".df_complex-reserved"
  used = "collectd." + ghostname + ".df-" + @mount + ".df_complex-used"
%>
field :free, :color => "green",
               :alias => "Free",
               :data  => "scaleToSeconds(nonNegativeDerivative(<%= free %>),1)"

field :used, :color => "red",
               :alias => "Used",
               :data  => "scaleToSeconds(nonNegativeDerivative(<%= used %>),1)"
               
field :reserved, :color => "yellow",
               :alias => "Reserved",
               :data  => "scaleToSeconds(nonNegativeDerivative(<%= reserved %>),1)"
