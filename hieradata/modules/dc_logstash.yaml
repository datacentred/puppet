---
dc_logstash::client::config:
  general:
    'log file': '/var/log/log-courier.log'
    'admin enabled': true
  network:
    transport: 'tls'
    servers:
      - "%{hiera('logstash_server')}:55516"
    'ssl certificate': "/var/lib/puppet/ssl/certs/%{fqdn}.pem"
    'ssl key': "/var/lib/puppet/ssl/private_keys/%{fqdn}.pem"
    'ssl ca': '/var/lib/puppet/ssl/certs/ca.pem'
    timeout: 40
  files:
    - paths:
      - '/var/log/postgresql/postgresql-9.*-main.log'
      fields:
        shipper: 'log-courier'
        type: 'postgres'
    - paths:
      - '/var/log/auth.log'
      fields:
        shipper: 'log-courier'
        tags: ['auth']
        type: 'auth'
    - paths:
      - '/var/log/apache2/*access.log'
      fields:
        shipper: 'log-courier'
        type: 'apache'
    - paths:
      - '/var/log/apache2/*error.log'
      fields:
        shipper: 'log-courier'
        type: 'apache_error'
    - paths:
      - '/var/log/apache2/error.log'
      fields:
        shipper: 'log-courier'
        type: 'apache_error'
    - paths:
      - '/var/log/ceilometer/ceilometer-agent-central.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-agent-compute.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-agent-notification.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-api.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt','ceilometerapi']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-collector.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-dbsync.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-expirer.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/cinder/cinder-api.log'
      fields:
        shipper: 'log-courier'
        tags: ['cinder', 'oslofmt', 'cinderapi']
        type: 'cinder'
    - paths:
      - '/var/log/cinder/cinder-manage.log'
      fields:
        shipper: 'log-courier'
        tags: ['cinder', 'oslofmt']
        type: 'cinder'
    - paths:
      - '/var/log/cinder/cinder-scheduler.log'
      fields:
        shipper: 'log-courier'
        tags: ['cinder', 'oslofmt']
        type: 'cinder'
    - paths:
      - '/var/log/cinder/cinder-volume.log'
      fields:
        shipper: 'log-courier'
        tags: ['cinder', 'oslofmt']
        type: 'cinder'
    - paths:
      - '/var/log/foreman/production.log'
      fields:
        shipper: 'log-courier'
        type: 'foreman'
    - paths:
      - '/var/log/foreman-proxy/foreman-proxy.log'
      fields:
        shipper: 'log-courier'
        type: 'foreman_proxy'
    - paths:
      - '/var/log/glance/glance-api.log'
      fields:
        shipper: 'log-courier'
        tags: ['glance', 'oslofmt', 'glanceapi']
        type: 'glance'
    - paths:
      - '/var/log/glance/scheduler.log'
      fields:
        shipper: 'log-courier'
        type: 'glance_scheduler'
    - paths:
      - '/var/log/heat/heat-api-cfn.log'
      fields:
        shipper: 'log-courier'
        type: 'heat'
    - paths:
      - '/var/log/heat/heat-api.log'
      fields:
        shipper: 'log-courier'
        tags: ['heat', 'oslofmt', 'heatapi']
        type: 'heat'
    - paths:
      - '/var/log/heat/heat-engine.log'
      fields:
        shipper: 'log-courier'
        type: 'heat'
    - paths:
      - '/var/log/heat/heat-manage.log'
      fields:
        shipper: 'log-courier'
        type: 'heat'
    - paths:
      - '/var/log/apache2/horizon_access.log'
      fields:
        shipper: 'log-courier'
        tags: ['horizon']
        type: 'horizon'
    - paths:
      - '/var/log/apache2/horizon_error.log'
      fields:
        shipper: 'log-courier'
        tags: ['horizon']
        type: 'horizon'
    - paths:
      - '/var/log/horizon/horizon.log'
      fields:
        shipper: 'log-courier'
        tags: ['horizon']
        type: 'horizon'
    - paths:
        - '/var/log/keystone/*.log'
      fields:
        shipper: 'log-courier'
        tags: ['keystone', 'oslofmt']
        type: 'keystone'
    - paths:
        - '/var/log/apache2/keystone*.log'
      fields:
        shipper: 'log-courier'
        type: 'apache'
    - paths:
      - '/var/log/libvirt/libvirtd.log'
      fields:
        shipper: 'log-courier'
        tags: ['libvirt']
        type: 'libvirt'
    - paths:
      - '/var/log/mail.err'
      fields:
        shipper: 'log-courier'
        type: 'mail_error'
    - paths:
      - '/var/log/mongodb/mongodb.log'
      fields:
        shipper: 'log-courier'
        type: 'mongodb'
    - paths:
      - '/var/log/mysql/error.log'
      fields:
        shipper: 'log-courier'
        type: 'mysql_error'
    - paths:
      - '/var/log/neutron/dhcp-agent.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'neutron'
    - paths:
      - '/var/log/neutron/vpn_agent.log'
      fields:
        shipper: 'log-courier'
        type: 'neutron_l3'
    - paths:
      - '/var/log/neutron/lbaas-agent.log'
      fields:
        shipper: 'log-courier'
        type: 'neutron_lbaas'
    - paths:
      - '/var/log/neutron/metadata-agent.log'
      fields:
        shipper: 'log-courier'
        type: 'neutron_metadata'
    - paths:
      - '/var/log/neutron/metering_agent.log'
      fields:
        shipper: 'log-courier'
        type: 'neutron_metering'
    - paths:
      - '/var/log/neutron/neutron-netns-cleanup.log'
      fields:
        shipper: 'log-courier'
        type: 'neutron_netns_cleanup'
    - paths:
      - '/var/log/neutron/openvswitch-agent.log'
      fields:
        shipper: 'log-courier'
        tags: ['neutron', 'oslofmt'] 
        type: 'neutron'
    - paths:
      - '/var/log/neutron/server.log'
      fields:
        shipper: 'log-courier'
        tags: ['neutron', 'oslofmt', 'neutronapi' ] 
        type: 'neutron'
    - paths:
        - '/var/log/neutron/neutron-server.log'
      fields:
        shipper: 'log-courier'
        tags: ['neutron', 'oslofmt', 'neutronapi' ] 
        type: 'neutron'
    - paths:
      - '/var/log/nova/nova-api.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt', 'novaapi']
        type: 'nova'
    - paths:
      - '/var/log/nova/nova-cert.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'novacert'
    - paths:
      - '/var/log/nova/nova-compute.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/nova/nova-conductor.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/nova/nova-consoleauth.log'
      fields:
        shipper: 'log-courier'
        type: 'nova-consoleauth'
    - paths:
      - '/var/log/nova/nova-manage.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/nova/nova-scheduler.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/openvswitch/ovs-ctl.log'
      fields:
        shipper: 'log-courier'
        tags: ['openvswitch']
        type: 'openvswitch'
    - paths:
      - '/var/log/openvswitch/ovsdb-server.log'
      fields:
        shipper: 'log-courier'
        tags: ['openvswitch']
        type: 'openvswitch'
    - paths:
      - '/var/log/openvswitch/ovs-vswitchd.log'
      fields:
        shipper: 'log-courier'
        tags: ['openvswitch']
        type: 'openvswitch'
    - paths:
      - '/var/log/rabbitmq/rabbit@puppetca.log'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_log'
    - paths:
      - '/var/log/rabbitmq/rabbit@puppetca-sasl.log'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_sasl_log'
    - paths:
      - '/var/log/rabbitmq/shutdown_err'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_shutdown_error'
    - paths:
      - '/var/log/rabbitmq/shutdown_log'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_shutdown_log'
    - paths:
      - '/var/log/rabbitmq/startup_err'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_startup_error'
    - paths:
      - '/var/log/rabbitmq/startup_log'
      fields:
        shipper: 'log-courier'
        type: 'rabbitmq_startup_log'
    - paths:
      - '/var/log/syslog'
      fields:
        shipper: 'log-courier'
        tags: ['syslog']
        type: 'syslog'
    - paths:
      - '/var/log/kern.log'
      fields:
        shipper: 'log-courier'
        type: 'kernel_log'
    - paths:
      - '/var/log/haproxy.log'
      fields:
        shipper: 'log-courier'
        tags: ['haproxy']
        type: 'haproxy'
    - paths:
      - '/var/log/nova/nova-api-metadata.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt', 'novametaapi']
        type: 'nova'
    - paths:
      - '/var/log/neutron/neutron-dhcp-agent.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/glance/glance-registry.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'glance'
    - paths:
      - '/var/log/nova/nova-novncproxy.log'
      fields:
        shipper: 'log-courier'
        tags: ['nova', 'oslofmt']
        type: 'nova'
    - paths:
      - '/var/log/ceilometer/ceilometer-alarm-evaluator.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/ceilometer/ceilometer-collector.log'
      fields:
        shipper: 'log-courier'
        tags: ['ceilometer', 'oslofmt']
        type: 'ceilometer'
    - paths:
      - '/var/log/dmesg'
      fields:
        shipper: 'log-courier'
        tags: ['dmesg', 'kernel']
        type: 'dmesg'
